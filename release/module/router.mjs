class t extends class{static getInstance(){return this.instance||(this.instance=new this),this.instance}}{constructor(){super(),this.routes=[],this.fallback=null}static on(e,n){if(2!==arguments.length)throw new Error("Expected two arguments.");if("string"!=typeof e)throw new TypeError("First argument is not a string.");if("function"!=typeof n)throw new TypeError("Second argument is not a function.");t.getInstance().routes.push({callback:n,pattern:e})}static start(){if(0!==arguments.length)throw new Error("Expected no arguments.");const e=()=>{const e=window.location.pathname,n=/:(?<placeholder>[a-zA-Z]+)/gu;let r=!1;for(const{pattern:o,callback:s}of t.getInstance().routes){const t=new RegExp(`^${o.replace(n,"(?<$1>[a-zA-Z0-9]+)")}$`,"u");if(t.test(e)){s(t.exec(e).groups),r=!0;break}}r||null===t.getInstance().fallback||t.getInstance().fallback()};window.addEventListener("popstate",e),e()}static goToPage(t){if(1!==arguments.length)throw new Error("Expected one argument.");if("string"!=typeof t)throw new TypeError("First argument is not a string.");if(!window.history)throw new ReferenceError("This browser does not support the History API.");window.history.pushState(null,null,t),window.dispatchEvent(new window.CustomEvent("popstate"))}static onPageNotFound(e){if(1!==arguments.length)throw new Error("Expected one argument.");if("function"!=typeof e)throw new TypeError("First argument is not a function.");t.getInstance().fallback=e}}export{t as Router};
